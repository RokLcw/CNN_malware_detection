# CNN_malware_detection

딥러닝 CNN을 이용하여 악성코드를 탐지하는 모델 제작


**사용한 샘플**:

Normal(8000개) - Train (+validation)

Abnormal(8000개) - Train (+validation)

Normal(2000개) - Test

Abnormal(2000개) - Test

<br>

**실험 완료된 Feature**:

가변적 사이즈 이미지 (정규화 사용): Binary, PE .Text, PE .Text + .Data, PE .Data 

가변적 사이즈 이미지 (정규화 X): PE .Text + .Data

고정 사이즈 이미지 (정규화 사용): PE .Text + .Data (4096*4096)

<br>

**실험 예정 Feature**: 

Opcode, API(호출 순서, 호출 빈도 by cuckoo)

cuckoo sandbox 사용시 분명 악성코드 샘플이지만 탐지되지 않는 경우가 있는데, Anti-VM 등의 기법으로 인해 탐지되지 않는 것 같다.

혹은 VM 환경에 DLL 같은 환경이 부족해서 그런게 아닌가 짐작만 하고 있다.

해결 방법을 찾아야 하지만 시간이 많지 않아서 일단 보류하고 진행했다.

<img src="https://user-images.githubusercontent.com/67365440/201530354-784911c8-a296-43a4-9ffc-5a9531e74648.png  width="200" height="400"/>

<br>

대부분 80% 이상의 정답률을 가지고 있지만, 높은 loss 값이 계속 나와서 어떻게 낮출지 계속 코드 수정 중.

Epoch 또한 동일하게 가져가고 있는데 더 높이면 높은 정확도를 가지는 모델도 존재하기에 고민중.

<br>

**최종 목표**:

1. 동일한 모델에 사용된 Feature만 다른 모델 결합
2. 각각의 Feature에 적합한 모델들 선정 후 결합

이를 통해 모델들을 합친 앙상블 모델 구현.
